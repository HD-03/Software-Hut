- @status_class_mapping = {"completed" => "table-success", "todo" => "table-danger", "pending" => "table-warning"}

.row.h-100.justify-content-center.text-center
  = render 'students/plan'
  
  = render 'students/avatar'


  - if @show_level_up_modal
    -# this is potentially the dumbest implementation of anything in this module
    -# but this is the only way that activating this modal works, I have spent
    -# HOURS trying to make this work and this is the only thing that has, so
    -# just allow it.. thanks. It's not my fault that bootstrap is having so many
    -# issues with me using modals

    :javascript
      document.addEventListener('DOMContentLoaded', (event) => {
        document.getElementById('activateModal').click();
      });
    
    - current_user.update(recently_leveled_up: false)
  

  -# The code in this block i've seperated by the two lined comments is what activates
  -# the below modal congratulating the user of leveling up when a user has leveled up.
  -# The way it works is too complicated to try understanding.
  -# Esentially you just need to know it works.
  -# ----------------------------------------------------------------------------------------------------------------------------------------


  .modal.fade#levelUpModal(tabindex="-1" role="dialog" aria-labelledby="levelUpModalLabel" aria-hidden="true")
    .modal-dialog.modal-dialog-centered.modal-xl
      .modal-content
        .modal-header.p-3
          -# %h5.modal-title#levelUpModalLabel Congratulations
          %button.btn.btn-primary.border-0.rounded-5.shadow-lg.ms-auto.px-4.py-2(type="button" data-bs-dismiss="modal" aria-label="Close")
            Close
        
        .modal-body.h1.p-5.m-2
          %p Level #{current_user.level} reached
          
        .modal-footer.d-flex.flex-column.justify-content-center
          .h3.text-decoration-underline
            You have unlocked an avatar token!
        -#     New avatars unlocked:
        -#   .mt-3
        -#     %img.p-4.rounded-circle.img-fluid.scaled-avatar-image{src: "https://via.placeholder.com/300x300"}
        -#     %img.p-4.rounded-circle.img-fluid.scaled-avatar-image{src: "https://via.placeholder.com/300x300"}
        -#     %img.p-4.rounded-circle.img-fluid.scaled-avatar-image{src: "https://via.placeholder.com/300x300"}
