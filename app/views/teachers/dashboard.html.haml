!!! 5
%html
  %head
    %title Teacher Dashboard
    %meta{charset: "utf-8"}
    :javascript
      function openTaskPopup(taskName, taskId) {
        const popup = document.getElementById('taskPopup');
        const popupContent = document.getElementById('taskPopupContent');
        popupContent.textContent = 'Details for ' + taskName + ' (ID: ' + taskId + ')';
        popup.style.display = 'block';
      }
      
      function closeTaskPopup() {
        const popup = document.getElementById('taskPopup');
        popup.style.display = 'none';
      }
      
      window.onclick = function(event) {
        const popup = document.getElementById('taskPopup');
        if (event.target == popup) {
          popup.style.display = 'none';
        }
      }
  %body
    #container
      %header
        %nav
          %ul.nav
            %li= link_to 'Home', root_path
            %li= link_to 'Set Task', new_add_task_path
            %li= link_to 'Logout', root_path
      %main
        .teacher-dashboard
          %section.student-list
            - @students.each do |student|
              %div{class: "student student-#{student.username}"}
                %span= student.username
                %ul
                  - student.tasks.each do |task|
                    %li= link_to task.name, '#', onclick: "openTaskPopup('#{task.name}', '#{task.id}')"
          %section.student-details
            %h2 Student1
            .progress-chart
              %p 14% Uncompleted
              %p 86% Completed
        #taskPopup.modal
          .modal-content
            %span.close-button{ onclick: "closeTaskPopup()" } &times;
            %p#taskPopupContent Details for the task will go here
      %footer
        Footer


:css
  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
    padding-top: 60px;
  }
  .modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }
  .close-button {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  .close-button:hover,
  .close-button:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
